(()=>{var K=Object.defineProperty,V=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var B=(t,n,a)=>n in t?K(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,i=(t,n)=>{for(var a in n||(n={}))Q.call(n,a)&&B(t,a,n[a]);if(G)for(var a of G(n))Z.call(n,a)&&B(t,a,n[a]);return t},r=(t,n)=>V(t,X(n));const{useState:p,useEffect:L}=React,u="#886c44",z="#f5efe6",ee="#c9a96e",D=["Grant Opportunity","Program / Event","Operations","Marketing","Restoration","Volunteer & Staff","Fundraising","Other"],M=["Exploring","Active","On Hold","Not a Fit","Complete"],U={Exploring:{color:"#2c5f8a",bg:"#e8f0f7"},Active:{color:"#4a7c59",bg:"#edf5f0"},"On Hold":{color:"#888",bg:"#f5f5f5"},"Not a Fit":{color:"#b05a2f",bg:"#fdf0ea"},Complete:{color:u,bg:z}},te={title:"",category:D[0],status:M[0],notes:"",blockers:"",gaps:""},oe={title:"",when:"",impact:"",grantUse:""},T="nsh-planner-v2",d=window.PLANNER_SHEETS_URL||"PASTE_YOUR_APPS_SCRIPT_WEB_APP_URL_HERE",H={async get(t){var n;return(n=window.storage)!=null&&n.get?window.storage.get(t):{value:localStorage.getItem(t)}},async set(t,n){var a;if((a=window.storage)!=null&&a.set)return window.storage.set(t,n);localStorage.setItem(t,n)}};function ne(t,n=12e3){return new Promise((a,b)=>{const y=`__planner_jsonp_${Date.now()}_${Math.random().toString(16).slice(2)}`,c=document.createElement("script"),E=setTimeout(()=>{S(),b(new Error("Request timed out"))},n);function S(){clearTimeout(E);try{delete window[y]}catch(h){window[y]=void 0}c.parentNode&&c.parentNode.removeChild(c)}window[y]=h=>{S(),a(h)},c.onerror=()=>{S(),b(new Error("Failed to load script"))};const R=t.includes("?")?"&":"?";c.src=`${t}${R}callback=${y}`,document.head.appendChild(c)})}async function ae(){if(!d||d.includes("PASTE_YOUR_APPS_SCRIPT"))return null;const t=await ne(`${d}?action=get&key=${encodeURIComponent(T)}`);if(!t||t.ok!==!0)throw new Error("Bad remote response");return t.data||null}async function ie(t){!d||d.includes("PASTE_YOUR_APPS_SCRIPT")||await fetch(d,{redirect:"follow",method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"save",key:T,data:t})})}function re(){const[t,n]=p("ideas"),[a,b]=p([]),[y,c]=p([]),[E,S]=p({}),[R,h]=p(!1),[s,l]=p(null),[m,w]=p(null),[A,$]=p(!1),[I,P]=p("local"),[F,k]=p("");L(()=>{(async()=>{try{const e=await H.get(T);if(e!=null&&e.value){const o=JSON.parse(e.value);o.ideas&&b(o.ideas),o.wins&&c(o.wins)}}catch(e){}try{const e=await ae();e!=null&&e.ideas&&b(e.ideas),e!=null&&e.wins&&c(e.wins),e&&(P("sheets"),k("Synced with Google Sheets"))}catch(e){d&&!d.includes("PASTE_YOUR_APPS_SCRIPT")&&k("Google Sheets unavailable, using local storage")}$(!0)})()},[]),L(()=>{if(!A)return;const e={ideas:a,wins:y};H.set(T,JSON.stringify(e)).catch(()=>{}),ie(e).then(()=>{d&&!d.includes("PASTE_YOUR_APPS_SCRIPT")&&(P("sheets"),k("Saved to Google Sheets"))}).catch(()=>{d&&!d.includes("PASTE_YOUR_APPS_SCRIPT")&&(P("local"),k("Saved locally (Google Sheets save failed)"))})},[a,y,A]);function Y(e){S(o=>r(i({},o),{[e]:!o[e]}))}function W(){l(t==="ideas"?i({},te):i({},oe)),w(null),h(!0)}function j(e){l(i({},e)),w(e.id),h(!0)}function J(){var v;if(!((v=s.title)!=null&&v.trim()))return;(t==="ideas"?b:c)(x=>m?x.map(C=>C.id===m?r(i({},s),{id:m}):C):[...x,r(i({},s),{id:Date.now()})]),h(!1),w(null),l(null)}function q(e){t==="ideas"?b(o=>o.filter(v=>v.id!==e)):c(o=>o.filter(v=>v.id!==e))}const O=t==="ideas"?a:y;return React.createElement("div",{style:{fontFamily:"'Georgia', serif",background:"#fdfbf8",minHeight:"100vh",color:"#2d2a26"}},React.createElement("div",{style:{background:u,padding:"16px 28px"}},React.createElement("div",{style:{color:"#fff",fontSize:10,letterSpacing:3,textTransform:"uppercase",opacity:.8}},"North Star House"),React.createElement("div",{style:{color:"#fff",fontSize:19,letterSpacing:.5}},"Organizational Focus Planner")),React.createElement("div",{style:{background:"#fff",borderBottom:"1px solid #e8e0d4",display:"flex"}},[{id:"ideas",label:"Ideas & Initiatives",count:a.length},{id:"wins",label:"Accomplishments",count:y.length}].map(e=>React.createElement("button",{key:e.id,onClick:()=>n(e.id),style:{background:"none",border:"none",borderBottom:t===e.id?`3px solid ${u}`:"3px solid transparent",padding:"14px 24px",fontSize:13,color:t===e.id?u:"#999",cursor:"pointer",fontFamily:"Georgia, serif"}},e.label,e.count>0&&React.createElement("span",{style:{marginLeft:8,background:z,color:u,borderRadius:10,padding:"1px 8px",fontSize:10}},e.count)))),React.createElement("div",{style:{maxWidth:800,margin:"0 auto",padding:"28px 20px"}},React.createElement("div",{style:{marginBottom:12,fontSize:11,color:I==="sheets"?"#4a7c59":"#9a8f80"}},"Storage: ",I==="sheets"?"Google Sheets + local backup":"Local browser storage",F?` - ${F}`:""),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24}},React.createElement("div",{style:{fontSize:13,color:"#aaa"}},t==="ideas"?"Grants, programs, projects, and anything you're considering - with space to note what's blocking or missing.":"Things you've done, built, or achieved. Useful for grant writing, board reports, and telling your story."),React.createElement("button",{onClick:W,style:{background:u,color:"#fff",border:"none",borderRadius:4,padding:"9px 18px",fontSize:12,cursor:"pointer",whiteSpace:"nowrap",letterSpacing:.5,flexShrink:0,marginLeft:20,fontFamily:"Georgia, serif"}},"+ Add")),O.length===0&&React.createElement("div",{style:{textAlign:"center",padding:"60px 20px",color:"#ccc",fontSize:13}},"Nothing here yet - hit ",React.createElement("strong",null,"+ Add")," to get started."),React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:10}},O.map(e=>{const o=t==="ideas",v=U[e.status]||U.Exploring,x=E[e.id],C=o&&(e.blockers||e.gaps);return React.createElement("div",{key:e.id,style:{background:"#fff",border:"1px solid #e8e0d4",borderLeft:`4px solid ${ee}`,borderRadius:6,overflow:"hidden"}},React.createElement("div",{style:{padding:"14px 18px",display:"flex",alignItems:"flex-start",gap:12}},React.createElement("div",{style:{flex:1}},React.createElement("div",{style:{fontSize:14,color:"#2d2a26",marginBottom:6}},e.title),React.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginBottom:e.notes?8:0}},e.category&&React.createElement(_,{color:u,bg:z},e.category),e.status&&React.createElement(_,{color:v.color,bg:v.bg},e.status),e.when&&React.createElement(_,{color:"#888",bg:"#f5f5f5"},e.when)),e.notes&&React.createElement("div",{style:{fontSize:12,color:"#777",lineHeight:1.6}},e.notes),!o&&e.impact&&React.createElement("div",{style:{fontSize:12,color:"#777",marginTop:6,lineHeight:1.6}},React.createElement("span",{style:{fontSize:10,color:"#bbb",textTransform:"uppercase",letterSpacing:1}},"Impact "),e.impact),!o&&e.grantUse&&React.createElement("div",{style:{fontSize:12,color:"#777",marginTop:4,lineHeight:1.6}},React.createElement("span",{style:{fontSize:10,color:"#bbb",textTransform:"uppercase",letterSpacing:1}},"For grant writing "),e.grantUse)),React.createElement("div",{style:{display:"flex",gap:6,flexShrink:0,alignItems:"center"}},C&&React.createElement("button",{onClick:()=>Y(e.id),style:{background:"none",border:"1px solid #e0d8cc",color:"#aaa",borderRadius:3,padding:"4px 10px",fontSize:11,cursor:"pointer",fontFamily:"Georgia, serif"}},x?"Less":"More"),React.createElement(N,{onClick:()=>j(e)},"Edit"),React.createElement(N,{color:"#b05a2f",onClick:()=>q(e.id)},"X"))),o&&x&&React.createElement("div",{style:{borderTop:"1px solid #f0e8de",padding:"14px 18px",background:"#fdfaf7",display:"flex",flexDirection:"column",gap:10}},e.blockers&&React.createElement("div",null,React.createElement("div",{style:{fontSize:10,color:"#b05a2f",textTransform:"uppercase",letterSpacing:1,marginBottom:4}},"Blockers"),React.createElement("div",{style:{fontSize:12,color:"#777",lineHeight:1.6}},e.blockers)),e.gaps&&React.createElement("div",null,React.createElement("div",{style:{fontSize:10,color:"#2c5f8a",textTransform:"uppercase",letterSpacing:1,marginBottom:4}},"Gaps"),React.createElement("div",{style:{fontSize:12,color:"#777",lineHeight:1.6}},e.gaps))))}))),R&&s&&React.createElement("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.35)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100,padding:16}},React.createElement("div",{style:{background:"#fff",borderRadius:8,padding:"28px",width:520,maxWidth:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 40px rgba(0,0,0,0.18)"}},React.createElement("div",{style:{fontSize:15,color:u,marginBottom:20}},m?"Edit":"Add"," - ",t==="ideas"?"Idea or Initiative":"Accomplishment"),t==="ideas"?React.createElement(React.Fragment,null,React.createElement(g,{label:"Title",placeholder:"e.g. Apply for CAC grant, Launch youth program, New website"},React.createElement("input",{value:s.title,onChange:e=>l(o=>r(i({},o),{title:e.target.value})),placeholder:"e.g. Apply for CAC grant, Launch youth program",style:f})),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16}},React.createElement(g,{label:"Category"},React.createElement("select",{value:s.category,onChange:e=>l(o=>r(i({},o),{category:e.target.value})),style:f},D.map(e=>React.createElement("option",{key:e},e)))),React.createElement(g,{label:"Status"},React.createElement("select",{value:s.status,onChange:e=>l(o=>r(i({},o),{status:e.target.value})),style:f},M.map(e=>React.createElement("option",{key:e},e))))),React.createElement(g,{label:"Notes - why it matters, context, ideas"},React.createElement("textarea",{value:s.notes,onChange:e=>l(o=>r(i({},o),{notes:e.target.value})),rows:3,placeholder:"Background, rationale, opportunity...",style:r(i({},f),{resize:"vertical"})})),React.createElement(g,{label:"Blockers - what's in the way"},React.createElement("textarea",{value:s.blockers,onChange:e=>l(o=>r(i({},o),{blockers:e.target.value})),rows:2,placeholder:"Capacity, funding, decisions needed, timing...",style:r(i({},f),{resize:"vertical"})})),React.createElement(g,{label:"Gaps - what's missing"},React.createElement("textarea",{value:s.gaps,onChange:e=>l(o=>r(i({},o),{gaps:e.target.value})),rows:2,placeholder:"Skills, documentation, relationships, resources...",style:r(i({},f),{resize:"vertical"})}))):React.createElement(React.Fragment,null,React.createElement(g,{label:"What was accomplished"},React.createElement("input",{value:s.title,onChange:e=>l(o=>r(i({},o),{title:e.target.value})),placeholder:"e.g. Completed roof restoration, Launched volunteer portal",style:f})),React.createElement(g,{label:"When"},React.createElement("input",{value:s.when,onChange:e=>l(o=>r(i({},o),{when:e.target.value})),placeholder:"e.g. Fall 2024, January 2025",style:f})),React.createElement(g,{label:"Why it mattered"},React.createElement("textarea",{value:s.impact,onChange:e=>l(o=>r(i({},o),{impact:e.target.value})),rows:3,placeholder:"Community impact, org capacity, historic preservation...",style:r(i({},f),{resize:"vertical"})})),React.createElement(g,{label:"How to use this in grant writing"},React.createElement("textarea",{value:s.grantUse,onChange:e=>l(o=>r(i({},o),{grantUse:e.target.value})),rows:2,placeholder:"Proof of capacity, demonstrated need, organizational health...",style:r(i({},f),{resize:"vertical"})}))),React.createElement("div",{style:{display:"flex",gap:10,justifyContent:"flex-end",marginTop:16}},React.createElement("button",{onClick:()=>{h(!1),w(null)},style:{background:"none",border:"1px solid #e0d8cc",color:"#888",borderRadius:4,padding:"8px 18px",fontSize:13,cursor:"pointer",fontFamily:"Georgia, serif"}},"Cancel"),React.createElement("button",{onClick:J,style:{background:u,color:"#fff",border:"none",borderRadius:4,padding:"8px 22px",fontSize:13,cursor:"pointer",fontFamily:"Georgia, serif"}},"Save")))))}function _({color:t,bg:n,children:a}){return React.createElement("span",{style:{fontSize:10,background:n,color:t,borderRadius:3,padding:"3px 8px",letterSpacing:.5}},a)}function N({color:t=u,onClick:n,children:a}){return React.createElement("button",{onClick:n,style:{background:"none",border:`1px solid ${t}50`,color:t,borderRadius:3,padding:"4px 10px",fontSize:11,cursor:"pointer",fontFamily:"Georgia, serif"}},a)}function g({label:t,children:n}){return React.createElement("div",{style:{marginBottom:14}},React.createElement("label",{style:{display:"block",fontSize:11,color:"#888",letterSpacing:1,textTransform:"uppercase",marginBottom:5}},t),n)}const f={width:"100%",border:"1px solid #e0d8cc",borderRadius:4,padding:"8px 10px",fontSize:13,fontFamily:"Georgia, serif",color:"#2d2a26",boxSizing:"border-box",background:"#fdfbf8",outline:"none"},se=ReactDOM.createRoot(document.getElementById("root"));se.render(React.createElement(re,null));})();
